(function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(a,'__esModule',{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&'object'==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,'default',{enumerable:!0,value:a}),2&c&&'string'!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='',b(b.s='./assets/js/frontend.js')})({"./assets/js/frontend.js":/*!*******************************!*\
  !*** ./assets/js/frontend.js ***!
  \*******************************//*! no static exports found */function(module,exports){eval('function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\n(function () {\n  var callback = function callback() {\n    var selector = \'.widget_wp_sidebarlogin form\';\n    var errorClassName = sidebar_login_params.error_class;\n    var forms = document.querySelectorAll(selector);\n\n    var maybeParseJson = function maybeParseJson(text) {\n      try {\n        var json = JSON.parse(text);\n\n        if (json && \'object\' === _typeof(json)) {\n          return json;\n        }\n\n        return {};\n      } catch (e) {\n        return {};\n      }\n    };\n\n    var ajaxPost = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(url, data) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(url, {\n                  method: \'POST\',\n                  cache: \'no-cache\',\n                  credentials: \'same-origin\',\n                  body: data\n                }).then(function (response) {\n                  return response.clone().json().catch(function () {\n                    return response.text();\n                  });\n                }).then(function (data) {\n                  if (\'object\' === _typeof(data)) {\n                    return data;\n                  } else {\n                    var maybe_valid_json = data.match(/{"success.*}/);\n\n                    if (maybe_valid_json !== null) {\n                      console.log(\'Found malformed JSON. Original:\' + data);\n                      return maybeParseJson(maybe_valid_json[0]);\n                    } else {\n                      console.log(\'Unable to fix malformed JSON\');\n                    }\n\n                    return {};\n                  }\n                });\n\n              case 2:\n                return _context.abrupt("return", _context.sent);\n\n              case 3:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function ajaxPost(_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var onSubmit = function onSubmit(event) {\n      var form = event.target;\n\n      var addError = function addError(errorText) {\n        form.insertAdjacentHTML(\'afterbegin\', \'<p class="\' + errorClassName + \'">\' + errorText + \'</div>\');\n      };\n\n      var removeErrors = function removeErrors() {\n        form.querySelectorAll(\'.\' + errorClassName).forEach(function (notice) {\n          return notice.parentNode.removeChild(notice);\n        });\n      };\n\n      var validate = function validate() {\n        return validateInput(\'input[name="log"]\', sidebar_login_params.i18n_username_required) && validateInput(\'input[name="pwd"]\', sidebar_login_params.i18n_password_required);\n      };\n\n      var validateInput = function validateInput(selector, errorText) {\n        var value = form.querySelector(selector).value;\n\n        if (!value) {\n          addError(errorText);\n          return false;\n        }\n\n        return true;\n      };\n\n      removeErrors();\n\n      if (!validate()) {\n        event.preventDefault();\n        return;\n      }\n\n      if (sidebar_login_params.force_ssl_admin == 1 && sidebar_login_params.is_ssl == 0) {\n        return; // Prevent same_origin_policy errors.\n      }\n\n      event.preventDefault();\n      form.classList.add(\'is-loading\');\n      var data = new FormData();\n      data.append(\'action\', \'sidebar_login_process\');\n      data.append(\'user_login\', form.querySelector(\'input[name="log"]\').value || \'\');\n      data.append(\'user_password\', form.querySelector(\'input[name="pwd"]\').value || \'\');\n      data.append(\'remember\', form.querySelector(\'input[name="rememberme"]:checked\').value || \'\');\n      data.append(\'redirect_to\', form.querySelector(\'input[name="redirect_to"]\').value || \'\');\n      ajaxPost(sidebar_login_params.ajax_url, data).then(function (response) {\n        if (response.success == 1) {\n          window.location = response.redirect;\n        } else {\n          addError(response.error);\n          form.classList.remove(\'is-loading\');\n        }\n      });\n    };\n\n    forms.forEach(function (form) {\n      form.addEventListener(\'submit\', onSubmit);\n    });\n  };\n\n  if (document.readyState === \'complete\' || document.readyState !== \'loading\' && !document.documentElement.doScroll) {\n    callback();\n  } else {\n    document.addEventListener(\'DOMContentLoaded\', callback);\n  }\n})();\n\n//# sourceURL=webpack:///./assets/js/frontend.js?')}});